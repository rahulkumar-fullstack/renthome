{% extends "core/base.html" %}

<!--Page title-->
{% block title %} Add Home {% endblock title %}

{% block main %}

<div class="max-w-3xl mx-4 md:mx-auto my-4 px-4 py-8 bg-white shadow-xl rounded-xl">
  <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">Add Home</h1>
  <!-- Image Preview -->
  <div class="flex justify-center mb-6">
    <img id="imagePreview" src="" alt="Image Preview"
         class="hidden aspect-video object-cover rounded-lg shadow-md border border-gray-300">
  </div>

  <form method="POST" enctype="multipart/form-data" class="space-y-6">
    {% csrf_token %}
    
    <!-- Image Upload -->
    <div class="mb-4">
      <label for="image" class="block font-medium text-gray-700 mb-1">Upload Image</label>
      <input required name="image" type="file" id="imageInput" accept="image/*"
             class="w-full py-3 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
    </div>

    <!-- Address Fields -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="mb-4">
        <label for="inputAddress" class="block font-medium text-gray-700 mb-1">Address</label>
        <input required type="text" id="inputAddress" name="add" placeholder="1234 Main St"
               class="w-full py-3 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
      </div>
      <div class="mb-4">
        <label for="inputAddress2" class="block font-medium text-gray-700 mb-1">Address 2</label>
        <input required type="text" id="inputAddress2" name="add1" placeholder="Apartment, studio, or floor"
               class="w-full py-3 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
      </div>
    </div>

    <!-- City, State & Pincode -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="mb-4">
        <label for="inputCity" class="block font-medium text-gray-700 mb-1">City</label>
        <input required type="text" id="inputCity" name="city"
               class="w-full py-3 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
      </div>
      <div class="mb-4">
        <label for="inputState" class="block font-medium text-gray-700 mb-1">State</label>
        <select required id="inputState" name="state"
                class="w-full py-3 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
          <option value="" disabled selected>Select State</option>
          <option value="Maharashtra">Maharashtra</option>
          <option value="Goa">Goa</option>
          <option value="Gujarat">Gujarat</option>
        </select>
      </div>
      <div class="mb-4">
        <label for="inputPincode" class="block font-medium text-gray-700 mb-1">Pin Code</label>
        <input required type="number" id="inputPincode" name="pincode"
               class="w-full py-3 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
      </div>
    </div>

    <!-- Pricing & People -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="mb-4">
        <label for="price" class="block font-medium text-gray-700 mb-1">Per Night Price</label>
        <input required type="number" step="0.01" id="price" name="price"
               class="w-full py-3 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
      </div>
      <div class="mb-4">
        <label for="people" class="block font-medium text-gray-700 mb-1">Max People</label>
        <input required type="number" id="people" name="people"
               class="w-full py-3 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
      </div>
    </div>

    <!-- Summary About House -->
    <div class="mb-4">
      <label for="about" class="block font-medium text-gray-700 mb-1">Summary</label>
      <textarea required id="about" name="about" rows="3"
                class="w-full py-3 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500"></textarea>
    </div>

    <!-- Condition -->
    <div class="mb-4">
      <label for="condition" class="block font-medium text-gray-700 mb-1">Condition</label>
      <select required id="condition" name="condition"
              class="w-full py-3 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
        <option disabled selected>Select Condition</option>
        <option value="Excellent">Excellent</option>
        <option value="Good">Good</option>
        <option value="Very Good">Very Good</option>
      </select>
    </div>

    <!-- Submit Button -->
    <div class="text-center mt-6">
      <button type="submit"
              class="w-full md:w-1/2 bg-blue-600 text-white py-3 text-lg font-medium rounded-lg shadow-md hover:bg-blue-700 transition">
        Add House
      </button>
    </div>
  </form>
</div>

<!-- JavaScript for Image Preview -->
<script>
document.getElementById("imageInput").addEventListener("change", function(event) {
    const file = event.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function() {
            const preview = document.getElementById("imagePreview");
            preview.src = reader.result;
            preview.classList.remove("hidden");
        };
        reader.readAsDataURL(file);
    }
});
</script>



{% endblock main %}